generator client {
  provider = "prisma-client-js"
  output   = "./generated/accountable"
}

datasource db {
  provider = "mysql"
  url      = env("ACCOUNTABLE_DATABASE_URL")
}

// model Client {
//   id         Int      @id @default(autoincrement())
//   updateTime DateTime @default(now())
//   createTime DateTime @default(now())

//   name        String  @unique
//   displayName String?

//   users User[]
// }

// model User {
//   id         Int      @id @default(autoincrement())
//   updateTime DateTime @default(now())
//   createTime DateTime @default(now())

//   name         String @unique
//   displayeName String
//   password     String

//   client   Client        @relation(fields: [clientId], references: [id])
//   clientId Int
//   accounts UserAccount[]
// }

model Account {
  id         Int      @id @default(autoincrement())
  createTime DateTime @default(now())
  updateTime DateTime @updatedAt

  displayName String
  description String? @db.Text

  transactions Transaction[]
  // users        UserAccount[]
}

model Transaction {
  id         Int      @id @default(autoincrement())
  createTime DateTime @default(now())
  updateTime DateTime @updatedAt

  note          String?
  detail        String?  @db.Text
  amount        Decimal
  executionTime DateTime @default(now())
  interval      Float    @default(0)

  account   Account @relation(fields: [accountId], references: [id])
  accountId Int
}

// model UserAccount {
//   createTime DateTime @default(now())
//   updateTime DateTime @updatedAt

//   user      User    @relation(fields: [userId], references: [id])
//   userId    Int
//   account   Account @relation(fields: [accountId], references: [id])
//   accountId Int

//   permission String

//   @@id([userId, accountId])
// }
